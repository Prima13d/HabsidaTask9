<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>User Info</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">
<div th:replace="fragments/navbar :: navbar"></div>


<div class="container mt-5 d-flex justify-content-center">
    <div class="card shadow-sm" style="width: 24rem;">
        <div class="card-header bg-primary text-white">
            <h4>User Information</h4>
        </div>
        <div class="card-body">
            <p><strong>First Name:</strong>
                <span id="firstName"></span>
            </p>
            <p><strong>Last Name:</strong>
                <span id="familyName"></span>
            </p>
            <p><strong>Username:</strong>
                <span id="username"></span>
            </p>
            <p><strong>Roles:</strong>
                <span id="roles"></span>
            </p>
        </div>
    </div>
</div>

<script>
    fetch('/api/user')
        .then(res => res.json())
        .then(user => {
            document.getElementById('firstName').innerText = user.userFirstName;
            document.getElementById('familyName').innerText = user.userFamilyName;
            document.getElementById('username').innerText = user.username;
            document.getElementById('roles').innerText =
                user.roles.map(r => r.name).join(', ');
        });
</script>
<script src="cdn.jsdelivr.net"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous">
</script>
</body>
</html>